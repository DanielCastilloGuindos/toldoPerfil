import{$ as e}from"./dom-selector.CC0qcKcF.js";const p={},u="/api/sendEmail.json",d=()=>{g(),y()},l=()=>{const t=Object.create(null);return t.fullname=e("#fullname")?.value,t.email=e("#email")?.value,t.phone=e("#phone")?.value,t.category=e("#category")?.value,t.description=e("#description")?.value,t},g=()=>{const{description:t,category:a,...o}=l();localStorage.setItem("contactInfo",JSON.stringify(o))},f=()=>{const t=JSON.parse(localStorage.getItem("contactInfo")||"{}");e("#fullname").value=t.fullname||"",e("#email").value=t.email||"",e("#phone").value=t.phone||""},h=e('[type="submit"]');h?.addEventListener("click",d);f();const y=async()=>{const{fullname:t,email:a,phone:o,category:r,description:i}=l(),n=`<p>${t}(${o} - ${a}) escribe:</p><p>${i}</p>`;let s="¡Enviado!",c="bg-green-600";try{if((await(await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({from:"no-reply@toldoperfil.es",to:"danielcastilloguindos@gmail.com",subject:r,html:n,text:n.replace(/<[^>]*>/g,"")})})).json()).message.statusCode!==200)throw p}catch{s="¡Error!",c="bg-red-600"}finally{e("#contactButton").innerHTML=s,e("#contactButton").classList.add(c,"!text-white")}};
